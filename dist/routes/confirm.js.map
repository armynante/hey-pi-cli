{"version":3,"sources":["../../src/routes/confirm.js"],"names":[],"mappings":";;;;;;;;uBAAoB,SAAS;;;;wBACX,cAAc;;;;wBACb,cAAc;;;;gCACN,sBAAsB;;;;2BAC3B,iBAAiB;;;;0BAChB,aAAa;;;;AAEpC,IAAI,MAAM,GAAG,qBAAQ,MAAM,EAAE,CAAC;;AAI9B,MAAM,CAAC,GAAG,CAAC,GAAG,EAAC,UAAC,GAAG,EAAC,GAAG,EAAK;;AAE3B,KAAI,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;AACpB,KAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC;AACzB,KAAI,KAAK,GAAG,EAAC,OAAO,EAAG,IAAI,CAAC,KAAK,EAAE,CAAC;;AAEpC,uBAAM,OAAO,CAAC,OAAO,EAAC,KAAK,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI,EAAK;AACjD,KAAG,CAAC,MAAM,CAAC,MAAM,EAAC,EAAE,OAAO,EAAE,IAAI,CAAC,KAAK;AAC5B,UAAO,EAAE,GAAG,CAAC,KAAK,CAAC,KAAK;AACzB,aAAU,EAAC,eAAe;GAC1B,CAAC,CAAC;EACZ,CAAC,SACI,CAAC,UAAC,GAAG,EAAK;AACf,SAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACjB,KAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EAChB,CAAC,CAAA;CACF,CAAC,CAAC;;qBAEY,MAAM","file":"confirm.js","sourcesContent":["import express from 'express'\nimport Mongo from '../server.js';\nimport config from '../config.js';\nimport collectionUtil from '../collectionUtil.js';\nimport utilities from '../utilities.js';\nimport bodyParser from 'body-parser';\n\nvar router = express.Router();\n\n\n\nrouter.get('/',(req,res) => {\n\t//find user and test pass\n\tvar user = req.user;\n\tuser['confirmed'] = true;\n\tvar query = {'email' : user.email };\n\n\tMongo._update('users',query, user).then((resp) => {\n\t\tres.render(\"home\",{ \"email\": user.email,\n\t \t\t\t\t\t\t\t\t\t\t\t\"token\": req.query.token,\n\t\t\t\t\t\t\t\t\t\t\t\t\"password\":\"your_password\"\n\t\t\t\t\t\t\t\t\t\t\t});\n\t})\n\t.catch((err) => {\n\t\tconsole.log(err);\n\t\tres.send(\"err\");\n\t})\n});\n\nexport default router;\n"]}