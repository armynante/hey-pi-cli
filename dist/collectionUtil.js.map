{"version":3,"sources":["../src/collectionUtil.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;AAEb,IAAI,cAAc,GAAI;AACrB,QAAO,EAAE,iBAAS,UAAU,EAAE,KAAK,EAAC;AACnC,MAAI,OAAO,GAAG,IAAI,OAAO,CACxB,UAAC,OAAO,EAAE,MAAM,EAAK;AACpB,aAAU,CAAC,IAAI,CACd,KAAK,EACL,EAAC,QAAQ,EAAC,CAAC,EAAC,EACZ,UAAC,GAAG,EAAE,IAAI,EAAK;AACf,QAAI,CAAC,OAAO,CAAC,UAAC,GAAG,EAAE,QAAQ,EAAK;;AAE/B,SAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAC;AACvB,YAAM,CAAC,EAAC,SAAS,EAAE,2BAA2B,EAAE,QAAQ,EAAE,QAAQ,EAAC,CAAC,CAAC;MACrE,MACI,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAC;AACzB,YAAM,CAAC,EAAC,SAAS,EAAE,sBAAsB,EAAE,QAAQ,EAAE,QAAQ,EAAC,CAAC,CAAC;MAChE,MACG;AACH,aAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;MACrB;KACD,CAAC,CAAC;IACH,CAAC,CAAC;GACH,CACD,CAAC;AACF,SAAO,OAAO,CAAC;EACf;;AAED,UAAS,EAAE,mBAAS,UAAU,EAAE,IAAI,EAAE;AACrC,MAAI,OAAO,GAAG,IAAI,OAAO,CACxB,UAAC,OAAO,EAAE,MAAM,EAAK;AACpB,aAAU,CAAC,SAAS,CACnB,IAAI,EACJ,EAAC,QAAQ,EAAC,CAAC,EAAC,EACZ,UAAS,GAAG,EAAE,MAAM,EAAC;AACrB,QAAI,GAAG,EAAC;AACH,WAAM,CAAC,GAAG,CAAC,CAAC;KACZ,MACG;AACH,YAAO,CAAC,MAAM,CAAC,CAAC;KAChB;IACL,CAAC,CAAC;GACH,CACD,CAAC;AACF,SAAO,OAAO,CAAC;EACf;;AAED,UAAS,EAAE,mBAAS,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE;;AAE5C,MAAI,OAAO,GAAG,IAAI,OAAO,CACxB,UAAC,OAAO,EAAE,MAAM,EAAK;AACnB,aAAU,CAAC,SAAS,CACnB,KAAK,EACL,EAAE,IAAI,EAAE,IAAI,EAAE,EACd,EAAC,QAAQ,EAAC,CAAC,EAAC,EACZ,UAAC,GAAG,EAAE,MAAM,EAAK;AACjB,QAAI,GAAG,EAAE;AACR,WAAM,CAAC,EAAC,SAAS,EAAC,uBAAuB,GAAI,GAAG,EAAC,CAAC,CAAC;KACnD,MAAM;AACN,YAAO,CAAC,EAAC,SAAS,EAAE,mCAAmC,EAAE,QAAQ,EAAE,MAAM,EAAC,CAAC,CAAC;KAC5E;IACD,CACD,CAAC;GACF,CACD,CAAC;AACF,SAAO,OAAO,CAAC;EACf;CACD,CAAC;;qBAEa,cAAc","file":"collectionUtil.js","sourcesContent":["\"use strict\";\n\nvar collectionUtil =  {\n\tfindOne: function(collection, query){\n\t\tvar promise = new Promise(\n\t\t\t(resolve, reject) => {\n\t\t\t\tcollection.find(\n\t\t\t\t\tquery,\n\t\t\t\t\t{heypi_id:0},\n\t\t\t\t\t(err, docs) => {\n\t\t\t\t\tdocs.toArray((err, docArray) => {\n\n\t\t\t\t\t\tif (docArray.length > 1){\n\t\t\t\t\t\t\treject({\"message\": \"More than one doc found\\n\", \"result\": docArray});\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (!docArray.length){\n\t\t\t\t\t\t\treject({\"message\": \"No documents found\\n\", \"result\": docArray});\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tresolve(docArray[0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t\treturn promise;\n\t},\n\n\tinsertOne: function(collection, data) {\n\t\tvar promise = new Promise(\n\t\t\t(resolve, reject) => {\n\t\t\t\tcollection.insertOne(\n\t\t\t\t\tdata,\n\t\t\t\t\t{heypi_id:0},\n\t\t\t\t\tfunction(err, result){\n\t\t\t\t\tif (err){\n\t\t\t  \t  \t\treject(err);\n\t\t\t  \t  \t}\n\t\t\t  \t  \telse{\n\t\t\t  \t  \t\tresolve(result);\n\t\t\t  \t  \t}\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t\treturn promise;\n\t},\n\n\tupdateOne: function(collection, query, data) {\n\n\t\tvar promise = new Promise (\n\t\t\t(resolve, reject) => {\n\t\t\t\t\tcollection.updateOne(\n\t\t\t\t\t\tquery,\n\t\t\t\t\t\t{ $set: data },\n\t\t\t\t\t\t{heypi_id:0},\n\t\t\t\t\t\t(err, result) => {\n\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\treject({\"message\":\" Error updating doc: \"  + err});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresolve({\"message\": \"Successfully updated the document\", \"result\": result});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\t\treturn promise;\n\t}\n};\n\nexport default collectionUtil;\n"]}